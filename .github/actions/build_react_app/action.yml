name: Build ReactJS App
description: 'Build ReactJS app and save to artifacts'

inputs:
  folder_name:
    description: folder to build
    required: true
  artifacts_name:
    description: artifacts name
    required: true
    
runs:
  using: 'composite'
  steps:
    - name: build
      shell: bash
      run: |
        cd ${{ inputs.folder_name }}
        yarn install
        yarn build 
        zip -r app.zip ./build
      env:
        NODE_ENV: production
    - name: upload_artifacts
      uses: actions/upload-artifact@v2
      with: 
        name: ${{ inputs.artifacts_name }}
        path: ${{ inputs.folder_name }}/app.zip
        
